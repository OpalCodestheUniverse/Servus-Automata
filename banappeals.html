<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servus Automata - Ban Appeals</title>
    <link rel="stylesheet" href="pagestyles.css">
    <style>
        #jumpscareVideo {
            display: none;
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="header" id="header">Servus Automata</div>
    <div class="button-container">
        <a href="index.html" class="button" id="homeButton">Home</a>
        <a href="banappeals.html" class="button" id="banAppealsButton">Ban Appeals</a>
        <a href="blogposts.html" class="button" id="blogPostsButton">Blog Posts</a>
    </div>
    <div class="content">
        <p>Welcome to Servus Automata: Ban Appeals. Please list your Discord below, and Opal or the appropriate staff member will get in touch with you via Discord as soon as possible. Thank you for your cooperation.</p>
    </div>
    <script src="https://utteranc.es/client.js"
            repo="opalcodestheuniverse/Servus-Automata"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <video id="jumpscareVideo">
        <source src="jumpscare.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <script>
        const buttons = document.querySelectorAll('.button');
        const specialWords = ["heretic", "kinslayer", "traitor"]; 

        function generateRandomString(length) {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let result = '';
            for (let i = 0; i < length; i++) {
                result += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return result;
        }

        buttons.forEach(button => {
            button.addEventListener('mouseover', () => {
                const originalText = button.textContent;
                let intervalId = setInterval(() => {
                    if (Math.random() < 0.5) { 
                        button.textContent = specialWords[Math.floor(Math.random() * specialWords.length)];
                    } else {
                        button.textContent = generateRandomString(8);
                    }
                }, 300);
                
                button.addEventListener('mouseout', () => {
                    clearInterval(intervalId);
                    button.textContent = originalText;
                });
            });
        });

        // Idle timer for the jump scare
        let idleTime = 0;
        const idleInterval = setInterval(timerIncrement, 60000); // 1 minute

        function timerIncrement() {
            idleTime++;
            if (idleTime > 1) { // 2 minutes
                playJumpScare();
            }
        }

        function resetIdleTime() {
            idleTime = 0;
        }

        function playJumpScare() {
            const video = document.getElementById('jumpscareVideo');
            video.style.display = "block";
            video.play();
            video.addEventListener('ended', () => {
                video.style.display = "none";
                resetIdleTime();
            });
        }

        document.onmousemove = resetIdleTime;
        document.onkeypress = resetIdleTime;

        // Play jump scare when user alt-tabs back into the page
        document.addEventListener('visibilitychange', () => {
            if (document.visibilityState === 'visible') {
                playJumpScare();
            }
        });
    </script>
</body>
</html>
