<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ban Appeals</title>
    <style>
        /* Add your styling here */
        body {
            background-color: #111;
            color: #b8b8b8;
            font-family: 'Old English Text MT', sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            font-size: 3em;
            margin: 20px;
            padding: 10px;
            border: 2px solid #b8b8b8;
            text-transform: uppercase;
        }

        nav {
            background-color: #333;
            overflow: hidden;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            width: 100%;
        }

        nav a {
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            border: 2px solid #b8b8b8;
            margin: 0 10px;
            background-color: #555;
            transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
        }

        nav a:hover {
            background-color: #ddd;
            color: black;
        }

        p {
            font-size: 1.2em;
            margin: 20px;
            padding: 10px;
        }

        .comment-section {
            width: 70%;
            margin: 20px;
            padding: 20px;
            border: 2px solid #b8b8b8;
            border-radius: 5px;
            background-color: #333;
        }

        textarea {
            width: 100%;
            height: 100px;
            margin: 10px 0;
            padding: 10px;
            border: 2px solid #b8b8b8;
            border-radius: 5px;
            color: #333;
            background-color: #b8b8b8;
            resize: none;
        }

        button {
            padding: 10px;
            border: 2px solid #b8b8b8;
            border-radius: 5px;
            background-color: #555;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background-color: #ddd;
            color: black;
        }

        .comments {
            margin-top: 20px;
            text-align: left;
        }

        .comment {
            border: 1px solid #b8b8b8;
            padding: 10px;
            margin: 10px 0;
            background-color: #333;
            border-radius: 5px;
        }

        .comment p {
            margin: 0;
            color: #b8b8b8;
        }
    </style>

    <!-- Include your Firebase configuration script here -->
    <script src="https://www.gstatic.com/firebasejs/9.6.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.3/firebase-firestore.js"></script>
</head>
<body>
    <h1>Ban Appeals</h1>

    <!-- Your navigation bar code here -->

    <p>Drop your discord down below with all information relevant to your ban, and I'll get to it personally or forward it to the appropriate staff member as soon as possible. Thank you!</p>

    <!-- Comment section -->
    <div class="comment-section">
        <textarea id="comment-input" placeholder="Write your comment here..."></textarea>
        <button onclick="submitComment()">Submit Comment</button>
    </div>

    <!-- Display comments -->
    <div id="comments-container"></div>

    <script>
        // Paste your Firebase configuration here
        const firebaseConfig = {
            apiKey: "AIzaSyDeC1ORaJFKaPvvAKEBwrSGF1JruRFzamI",
            authDomain: "servus-automata.firebaseapp.com",
            projectId: "servus-automata",
            storageBucket: "servus-automata.appspot.com",
            messagingSenderId: "225457163878",
            appId: "1:225457163878:web:75d902f20dec546e6127a7",
            measurementId: "G-GPVVRHNGQH"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Reference to the Firestore database
        const db = firebase.firestore();

        // Function to submit a comment
        function submitComment() {
            const commentInput = document.getElementById('comment-input');
            const commentText = commentInput.value.trim();

            if (commentText !== '') {
                // Add the comment to Firestore
                db.collection('comments').add({
                    text: commentText,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp()
                })
                .then(function (docRef) {
                    console.log("Comment written with ID: ", docRef.id);
                    // Clear the input field
                    commentInput.value = '';
                })
                .catch(function (error) {
                    console.error("Error adding comment: ", error);
                });
            }
        }

        // Function to display comments
        function displayComments() {
            const commentsContainer = document.getElementById('comments-container');

            // Listen for changes to the comments collection
            db.collection('comments').orderBy('timestamp', 'desc').onSnapshot(function (snapshot) {
                commentsContainer.innerHTML = ''; // Clear previous comments

                snapshot.forEach(function (doc) {
                    const commentData = doc.data();
                    const commentElement = document.createElement('div');
                    commentElement.classList.add('comment');
                    commentElement.innerHTML = '<p>' + commentData.text + '</p>';
                    commentsContainer.appendChild(commentElement);
                });
            });
        }

        // Call the displayComments function
        displayComments();
    </script>
</body>
</html>
