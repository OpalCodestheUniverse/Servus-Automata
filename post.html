<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading Entry...</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>
<body class="archive-body">

    <div class="archive-container">
        <a href="index.html" class="read-more-btn">‚Üê BACK TO VOID</a>
        
        <header style="margin-top: 30px;">
            <div id="post-date" class="post-date"></div>
            <h1 id="post-title" class="archive-title" style="font-size: 2.5rem;"></h1>
            <span id="post-category" class="post-date" style="color: #ff007f;"></span>
        </header>

        <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 30px 0;">

        <section id="post-content" class="post-excerpt" style="font-size: 1.3rem; line-height: 1.8;">
            </section>
    </div>

    <script>
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRShpKrg7NQN1m8ysGHQeqtO2df_Mc7PQ-ng18Rmsq6DYJ0btvauuhmc1ShHFwrAUVTdj3OsMgGHD53/pub?gid=0&single=true&output=csv';
        const params = new URLSearchParams(window.location.search);
        const postId = params.get('id');

        async function loadPost() {
            try {
                const response = await fetch(sheetUrl);
                const csvText = await response.text();
                
                Papa.parse(csvText, {
                    header: true,
                    complete: function(results) {
                        const post = results.data[postId];
                        if (post) {
                            document.getElementById('post-title').innerText = post.Title;
                            document.getElementById('post-date').innerText = post.Date;
                            document.getElementById('post-category').innerText = post.Category;
                            document.getElementById('post-content').innerHTML = post.Content;
                            document.title = post.Title;
                        }
                    }
                });
            } catch (e) { console.error(e); }
        }
        if (postId !== null) loadPost();
    </script>
</body>
</html>
